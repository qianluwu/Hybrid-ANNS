查询多线程和 nprobe 参数测试
Loading index from file...
Thread Num: 16
nprobe, Query Time(ms), QPS, Recall@k10
1, 4.391, 45547.7, 0.4915
2, 4.887, 40924.9, 0.6785
3, 5.326, 37551.6, 0.777
4, 5.803, 34464.9, 0.836
5, 6.282, 31837, 0.8715
6, 6.807, 29381.5, 0.904
7, 7.328, 27292.6, 0.9265
8, 7.83, 25542.8, 0.9445
9, 8.335, 23995.2, 0.9585
10, 8.816, 22686, 0.9685
12, 9.74, 20533.9, 0.9795
15, 11.122, 17982.4, 0.9905
20, 13.667, 14633.8, 0.9955
30, 18.027, 11094.5, 0.9995
--------------------------------------
Thread Num: 5
nprobe, Query Time(ms), QPS, Recall@k10
1, 13.64, 14662.8, 0.4915
2, 15.093, 13251.2, 0.6785
3, 17.174, 11645.5, 0.777
4, 17.995, 11114.2, 0.836
5, 19.436, 10290.2, 0.8715
6, 21.062, 9495.77, 0.904
7, 22.372, 8939.75, 0.9265
8, 24.457, 8177.62, 0.9445
9, 26.679, 7496.53, 0.9585
10, 27.137, 7370.01, 0.9685
12, 29.999, 6666.89, 0.9795
15, 34.65, 5772.01, 0.9905
20, 41.783, 4786.64, 0.9955
30, 55.653, 3593.7, 0.9995
--------------------------------------
Thread Num: 1
nprobe, Query Time(ms), QPS, Recall@k10
1, 67.492, 2963.31, 0.4915
2, 76.015, 2631.06, 0.6785
3, 83.995, 2381.09, 0.777
4, 93.13, 2147.54, 0.836
5, 100.06, 1998.8, 0.8715
6, 107.383, 1862.49, 0.904
7, 113.734, 1758.49, 0.9265
8, 121.275, 1649.14, 0.9445
9, 127.509, 1568.52, 0.9585
10, 134.207, 1490.24, 0.9685
12, 146.09, 1369.02, 0.9795
15, 168.164, 1189.32, 0.9905
20, 202.518, 987.567, 0.9955
30, 269.432, 742.302, 0.9995
--------------------------------------