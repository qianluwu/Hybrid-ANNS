查询多线程和 nprobe 参数测试
Loading index from file...
Thread Num: 16
nprobe, Query Time(ms), QPS, Recall@k10
1, 20.922, 9559.32, 0.529
2, 29.613, 6753.79, 0.7445
3, 38.984, 5130.31, 0.83
4, 49.52, 4038.77, 0.8855
5, 58.65, 3410.06, 0.9265
6, 65.723, 3043.07, 0.957
7, 73.363, 2726.17, 0.967
8, 81.598, 2451.04, 0.9745
9, 89.218, 2241.7, 0.984
10, 95.912, 2085.24, 0.989
12, 111.262, 1797.56, 0.992
15, 129.179, 1548.24, 0.9975
20, 157.932, 1266.37, 0.9985
30, 215.86, 926.526, 0.9995
--------------------------------------
Thread Num: 5
nprobe, Query Time(ms), QPS, Recall@k10
1, 59.963, 3335.39, 0.529
2, 88.104, 2270.04, 0.7445
3, 116.098, 1722.68, 0.83
4, 142.606, 1402.47, 0.8855
5, 166.987, 1197.7, 0.9265
6, 194.13, 1030.24, 0.957
7, 218.994, 913.267, 0.967
8, 243.454, 821.51, 0.9745
9, 267.563, 747.487, 0.984
10, 288.079, 694.254, 0.989
12, 332.741, 601.068, 0.992
15, 386.638, 517.28, 0.9975
20, 485.397, 412.034, 0.9985
30, 644.383, 310.374, 0.9995
--------------------------------------
Thread Num: 1
nprobe, Query Time(ms), QPS, Recall@k10
1, 288.172, 694.03, 0.529
2, 424.667, 470.957, 0.7445
3, 565.808, 353.477, 0.83
4, 678.469, 294.781, 0.8855
5, 807.26, 247.752, 0.9265
6, 923.741, 216.511, 0.957
7, 1040.88, 192.145, 0.967
8, 1171.61, 170.706, 0.9745
9, 1273.6, 157.036, 0.984
10, 1379.39, 144.991, 0.989
12, 1585.34, 126.156, 0.992
15, 1871.04, 106.892, 0.9975
20, 2318.6, 86.2591, 0.9985
30, 3138.58, 63.7231, 0.9995
--------------------------------------
