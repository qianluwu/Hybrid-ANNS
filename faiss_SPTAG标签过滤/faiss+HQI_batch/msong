查询分组 + 多线程和 nprobe 参数测试
Thread Num: 16 (Cores: 50-65)
Index build time: 10690 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 505, 396.04, 0.332
2, 570, 350.877, 0.528
3, 541, 369.686, 0.646
4, 576, 347.222, 0.721
5, 576, 347.222, 0.7855
6, 555, 360.36, 0.8275
8, 614, 325.733, 0.8725
10, 563, 355.24, 0.909
15, 628, 318.471, 0.9535
20, 628, 318.471, 0.972
25, 618, 323.625, 0.983
30, 641, 312.012, 0.9865
35, 684, 292.398, 0.9925
40, 704, 284.091, 0.9965
45, 702, 284.9, 0.9975
50, 725, 275.862, 0.998
60, 766, 261.097, 0.999
--------------------------------------
Thread Num: 5 (Cores: 50-54)
Index build time: 1826 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 186, 1075.27, 0.332
2, 194, 1030.93, 0.528
3, 203, 985.222, 0.646
4, 209, 956.938, 0.721
5, 218, 917.431, 0.7855
6, 224, 892.857, 0.8275
8, 239, 836.82, 0.8725
10, 253, 790.514, 0.909
15, 289, 692.042, 0.9535
20, 323, 619.195, 0.972
25, 357, 560.224, 0.983
30, 392, 510.204, 0.9865
35, 430, 465.116, 0.9925
40, 465, 430.108, 0.9965
45, 502, 398.406, 0.9975
50, 533, 375.235, 0.998
60, 598, 334.448, 0.999
--------------------------------------
Thread Num: 1 (Cores: 50)
Index build time: 9675 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 420, 476.19, 0.332
2, 449, 445.434, 0.528
3, 478, 418.41, 0.646
4, 506, 395.257, 0.721
5, 535, 373.832, 0.7855
6, 564, 354.61, 0.8275
8, 623, 321.027, 0.8725
10, 679, 294.551, 0.909
15, 817, 244.798, 0.9535
20, 950, 210.526, 0.972
25, 1083, 184.672, 0.983
30, 1214, 164.745, 0.9865
35, 1342, 149.031, 0.9925
40, 1468, 136.24, 0.9965
45, 1593, 125.549, 0.9975
50, 1718, 116.414, 0.998
60, 1967, 101.678, 0.999
--------------------------------------