查询分组 + 多线程和 nprobe 参数测试
Thread Num: 1 (Cores: 50)
Loading index from file...
Index build time: 231 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 1014, 9861.93, 0.27525
2, 1511, 6618.13, 0.41799
3, 2008, 4980.08, 0.51365
4, 2511, 3982.48, 0.58044
5, 3012, 3320.05, 0.63261
6, 3511, 2848.19, 0.67591
8, 4512, 2216.31, 0.73734
10, 5503, 1817.19, 0.78361
15, 7908, 1264.54, 0.85715
20, 10324, 968.617, 0.89915
25, 12705, 787.092, 0.92567
30, 15091, 662.647, 0.9436
35, 17520, 570.776, 0.95634
40, 19963, 500.927, 0.96554
45, 22366, 447.107, 0.97307
50, 24770, 403.714, 0.97817
60, 29462, 339.42, 0.98554
70, 34038, 293.789, 0.99042
80, 38675, 258.565, 0.99357
90, 43327, 230.803, 0.99559
100, 48015, 208.268, 0.99672
120, 57241, 174.7, 0.99804
140, 66339, 150.741, 0.99899
160, 75664, 132.163, 0.99944
180, 85292, 117.244, 0.99968
200, 94291, 106.055, 0.99981
--------------------------------------
Thread Num: 16 (Cores: 50-65)
Loading index from file...
Index build time: 227 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 639, 15649.5, 0.27525
2, 339, 29498.5, 0.41799
3, 385, 25974, 0.51365
4, 425, 23529.4, 0.58044
5, 469, 21322, 0.63261
6, 528, 18939.4, 0.67591
8, 587, 17035.8, 0.73734
10, 648, 15432.1, 0.78361
15, 801, 12484.4, 0.85715
20, 995, 10050.3, 0.89915
25, 1166, 8576.33, 0.92567
30, 1318, 7587.25, 0.9436
35, 1486, 6729.48, 0.95634
40, 1652, 6053.27, 0.96554
45, 1845, 5420.05, 0.97307
50, 1966, 5086.47, 0.97817
60, 2280, 4385.96, 0.98554
70, 2661, 3757.99, 0.99042
80, 2933, 3409.48, 0.99357
90, 3210, 3115.26, 0.99559
100, 3693, 2707.83, 0.99672
120, 4347, 2300.44, 0.99804
140, 4996, 2001.6, 0.99899
160, 5629, 1776.51, 0.99944
180, 6195, 1614.2, 0.99968
200, 6797, 1471.24, 0.99981