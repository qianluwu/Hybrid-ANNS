查询分组 + 多线程和 nprobe 参数测试
Thread Num: 16 (Cores: 50-65)
Index build time: 219 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 551, 362.976, 0.529
1, 560, 357.143, 0.529
1, 508, 393.701, 0.529
2, 548, 364.964, 0.7445
3, 523, 382.409, 0.83
4, 605, 330.579, 0.8855
5, 564, 354.61, 0.9265
6, 583, 343.053, 0.957
7, 696, 287.356, 0.967
8, 590, 338.983, 0.9745
9, 565, 353.982, 0.984
10, 654, 305.81, 0.989
12, 650, 307.692, 0.992
15, 654, 305.81, 0.9975
20, 711, 281.294, 0.9985
30, 847, 236.128, 0.9995
--------------------------------------
Thread Num: 5 (Cores: 50-54)
Index build time: 225 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 61, 3278.69, 0.529
2, 97, 2061.86, 0.7445
3, 130, 1538.46, 0.83
4, 163, 1226.99, 0.8855
5, 191, 1047.12, 0.9265
6, 221, 904.977, 0.957
7, 249, 803.213, 0.967
8, 282, 709.22, 0.9745
9, 317, 630.915, 0.984
10, 346, 578.035, 0.989
12, 417, 479.616, 0.992
15, 473, 422.833, 0.9975
20, 589, 339.559, 0.9985
30, 785, 254.777, 0.9995
--------------------------------------
Thread Num: 1 (Cores: 50)
Index build time: 221 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 196, 1020.41, 0.529
2, 329, 607.903, 0.7445
3, 457, 437.637, 0.83
4, 581, 344.234, 0.8855
5, 700, 285.714, 0.9265
6, 821, 243.605, 0.957
7, 934, 214.133, 0.967
8, 1053, 189.934, 0.9745
9, 1161, 172.265, 0.984
10, 1264, 158.228, 0.989
12, 1467, 136.333, 0.992
15, 1742, 114.811, 0.9975
20, 2199, 90.9504, 0.9985
30, 3032, 65.9631, 0.9995
--------------------------------------