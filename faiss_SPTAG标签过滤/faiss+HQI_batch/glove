查询分组 + 多线程和 nprobe 参数测试
Thread Num: 16 (Cores: 50-65)
Index build time: 234 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 358, 27933, 0.21372
2, 395, 25316.5, 0.31097
3, 450, 22222.2, 0.37374
4, 486, 20576.1, 0.41862
5, 542, 18450.2, 0.45505
6, 571, 17513.1, 0.48467
8, 660, 15151.5, 0.53095
10, 732, 13661.2, 0.56839
15, 938, 10661, 0.63702
20, 1136, 8802.82, 0.68521
25, 1318, 7587.25, 0.72406
30, 1505, 6644.52, 0.75486
35, 1713, 5837.71, 0.77971
40, 1911, 5232.86, 0.80098
45, 2104, 4752.85, 0.81912
50, 2275, 4395.6, 0.83562
60, 2672, 3742.51, 0.86231
70, 3052, 3276.54, 0.88218
80, 3423, 2921.41, 0.89854
90, 3820, 2617.8, 0.91247
100, 4285, 2333.72, 0.92367
120, 5113, 1955.8, 0.94202
140, 5885, 1699.24, 0.95664
160, 6648, 1504.21, 0.96685
180, 7416, 1348.44, 0.97422
200, 8172, 1223.69, 0.98006
--------------------------------------
Thread Num: 1 (Cores: 50)
Index build time: 227 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 1121, 8920.61, 0.21372
2, 1712, 5841.12, 0.31097
3, 2294, 4359.2, 0.37374
4, 2871, 3483.11, 0.41862
5, 3446, 2901.92, 0.45505
6, 4024, 2485.09, 0.48467
8, 5173, 1933.11, 0.53095
10, 6325, 1581.03, 0.56839
15, 9189, 1088.26, 0.63702
20, 12038, 830.703, 0.68521
25, 14884, 671.862, 0.72406
30, 17780, 562.43, 0.75486
35, 20596, 485.531, 0.77971
40, 23415, 427.077, 0.80098
45, 26269, 380.677, 0.81912
50, 29110, 343.525, 0.83562
60, 34874, 286.747, 0.86231
70, 40513, 246.834, 0.88218
80, 46142, 216.722, 0.89854
90, 51849, 192.868, 0.91247
100, 57655, 173.445, 0.92367
120, 68945, 145.043, 0.94202
140, 80323, 124.497, 0.95664
160, 91708, 109.042, 0.96685
180, 102940, 97.144, 0.97422
200, 114078, 87.6593, 0.98006
--------------------------------------