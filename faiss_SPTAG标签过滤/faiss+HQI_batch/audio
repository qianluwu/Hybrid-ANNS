查询分组 + 多线程和 nprobe 参数测试
Thread Num: 16 (Cores: 60-75)
Index build time: 261 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 515.29, 388.131, 0.4915
2, 492.886, 405.773, 0.6785
3, 524.12, 381.592, 0.777
4, 526.791, 379.657, 0.836
5, 510.543, 391.74, 0.8715
6, 512.099, 390.549, 0.904
7, 524.45, 381.352, 0.9265
8, 480.895, 415.891, 0.9445
9, 495.145, 403.922, 0.9585
10, 487.406, 410.336, 0.9685
12, 490.408, 407.824, 0.9795
15, 491.701, 406.751, 0.9905
20, 513.984, 389.117, 0.9955
30, 518.571, 385.675, 0.9995
--------------------------------------
Thread Num: 5 (Cores: 60-64)
Index build time: 21 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 48.347, 4136.76, 0.4915
2, 12.064, 16578.2, 0.6785
3, 13.88, 14409.2, 0.777
4, 15.65, 12779.6, 0.836
5, 17.689, 11306.5, 0.8715
6, 19.505, 10253.8, 0.904
7, 21.274, 9401.15, 0.9265
8, 23.007, 8693.01, 0.9445
9, 24.724, 8089.31, 0.9585
10, 26.296, 7605.72, 0.9685
12, 29.241, 6839.71, 0.9795
15, 34.38, 5817.34, 0.9905
20, 42.537, 4701.79, 0.9955
30, 57.765, 3462.3, 0.9995
--------------------------------------
Thread Num: 1 (Cores: 60)
Index build time: 20 ms
nprobe, Query Time(ms), QPS, Recall@k10
1, 22.573, 8860.14, 0.4915
2, 29.421, 6797.87, 0.6785
3, 36.576, 5468.07, 0.777
4, 43.576, 4589.68, 0.836
5, 50.682, 3946.17, 0.8715
6, 57.599, 3472.28, 0.904
7, 64.607, 3095.64, 0.9265
8, 71.522, 2796.34, 0.9445
9, 78.067, 2561.9, 0.9585
10, 84.43, 2368.83, 0.9685
12, 97.122, 2059.27, 0.9795
15, 116.729, 1713.37, 0.9905
20, 147.8, 1353.18, 0.9955
30, 209.51, 954.608, 0.9995
--------------------------------------